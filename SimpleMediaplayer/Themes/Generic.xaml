<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:local="using:SimpleMediaplayer">

    <!--Data-->
    <local:SystemInfo x:Key="Info" />

    <!--ControlBar-->
    <Style TargetType="local:ControlBar">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="local:ControlBar">
                    <Grid x:Name="RootPanel" DataContext="{StaticResource Info}" Background="{StaticResource DefaultControlBarBg}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="30" />
                            <RowDefinition Height="*" />
                            <RowDefinition Height="30" />
                        </Grid.RowDefinitions>
                        <Grid x:Name="StateBar" Grid.Row="0">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="auto" />
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="auto" MinWidth="80" />
                                <ColumnDefinition Width="auto" MinWidth="160" />
                            </Grid.ColumnDefinitions>
                            <local:PathButton Style="{StaticResource PolylineButton}" Width="20" Height="20" 
                                              ShapeN="37.3 0.09 3.71 33.68 0.18 37.21 3.71 40.75 37.3 74.33" 
                                              StrokeSize="4" 
                                              Margin="5,0,5,0" />
                            <TextBlock x:Name="Filename" Foreground="{StaticResource DefaultControlBarText}" 
                                       FontSize="{StaticResource DefaultControlBarTextSize}" 
                                       Text="{TemplateBinding Filename}" 
                                       FontWeight="Light" Margin="10,0,10,0" 
                                       Grid.Column="1" 
                                       VerticalAlignment="Center" 
                                       />
                            <TextBlock x:Name="SysTime" Foreground="{StaticResource DefaultControlBarText}" FontSize="{StaticResource DefaultControlBarTextSize}" Text="{Binding HourMin}" FontWeight="Light" Margin="10,0,10,0" Grid.Column="2" VerticalAlignment="Center" />
                            <TextBlock x:Name="SysBattery" Foreground="{StaticResource DefaultControlBarText}" FontSize="{StaticResource DefaultControlBarTextSize}" Text="{Binding BatteryLevel}" FontWeight="Light" Margin="10,0,10,0" Grid.Column="3" VerticalAlignment="Center" />
                        </Grid>
                        <RelativePanel x:Name="ControlBar" Grid.Row="1">
                            <local:PathButton x:Name="Play" 
                                              ShapeN="M21,17.09,78,50,21,82.91V17.09Z"     
                                              StrokeSize="4" StrokeN="#c0ffffff" StrokeR="#ffffff" StrokeP="#aaffffff" StrokeD="#aaffffff"
                                              FillN="Transparent" FillR="Transparent" FillP="Transparent" FillD="Transparent" RotateAngle="0"
                                              Width="120" Height="120"
                                              RelativePanel.AlignHorizontalCenterWithPanel="True" RelativePanel.AlignVerticalCenterWithPanel="True" />
                            <local:PathButton x:Name="Pause" 
                                              ShapeN="M21,17.09,78,50,21,82.91V17.09"     
                                              StrokeSize="3" StrokeN="Transparent" StrokeR="Transparent" StrokeP="Transparent" StrokeD="Transparent"
                                              FillN="#c0ffffff" FillR="#ffffff" FillP="#aaffffff" FillD="#aaffffff" RotateAngle="0"
                                              Width="120" Height="120"
                                              RelativePanel.AlignHorizontalCenterWithPanel="True" RelativePanel.AlignVerticalCenterWithPanel="True" />
                            <local:PathButton x:Name="Next" 
                                              ShapeN="M21,17.09,78,50,21,82.91V17.09"     
                                              StrokeSize="3" StrokeN="Transparent" StrokeR="Transparent" StrokeP="Transparent" StrokeD="Transparent"
                                              FillN="#c0ffffff" FillR="#ffffff" FillP="#aaffffff" FillD="#aaffffff" RotateAngle="0"
                                              Width="60" Height="60"
                                              RelativePanel.RightOf="Play" Margin="120,0,0,0" RelativePanel.AlignVerticalCenterWith="Play"/>
                            <local:PathButton x:Name="Prve" 
                                              ShapeN="M21,17.09,78,50,21,82.91V17.09"     
                                              StrokeSize="3" StrokeN="Transparent" StrokeR="Transparent" StrokeP="Transparent" StrokeD="Transparent"
                                              FillN="#c0ffffff" FillR="#ffffff" FillP="#aaffffff" FillD="#aaffffff" RotateAngle="180"
                                              Width="60" Height="60"
                                              RelativePanel.LeftOf="Play" Margin="0,0,120,0" RelativePanel.AlignVerticalCenterWith="Play"/>
                        </RelativePanel>
                        <Grid x:Name="SettingBar" Grid.Row="2">

                        </Grid>
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!--PathButton-->
    <Style TargetType="local:PathButton">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="local:PathButton">
                    <Viewbox Stretch="UniformToFill" UseLayoutRounding="True">
                        <Canvas Width="100" Height="100" Background="{TemplateBinding Background}" RenderTransformOrigin=".5 .5">
                            <Canvas.RenderTransform>
                                <TransformGroup>
                                    <TranslateTransform  X="{Binding RelativeSource={RelativeSource TemplatedParent},Path=TransX}" 
                                                         Y="{Binding RelativeSource={RelativeSource TemplatedParent},Path=TransY}"/>
                                    <RotateTransform Angle="{Binding RelativeSource={RelativeSource TemplatedParent},Path=RotateAngle}" />
                                </TransformGroup>
                            </Canvas.RenderTransform>
                            <Path x:Name="ButtonFg" 
                                  Data="{Binding RelativeSource={RelativeSource TemplatedParent},Path=ShapeN}" 
                                  Stroke="{Binding RelativeSource={RelativeSource TemplatedParent},Path=StrokeN}" 
                                  Fill="{Binding RelativeSource={RelativeSource TemplatedParent},Path=FillN}" 
                                  StrokeThickness="{Binding RelativeSource={RelativeSource TemplatedParent},Path=StrokeSize}" />
                        </Canvas>
                        <VisualStateManager.VisualStateGroups>
                            <VisualStateGroup x:Name="CommonStates">
                                <VisualState x:Name="Normal">
                                </VisualState>
                                <VisualState x:Name="PointerOver">
                                    <Storyboard>
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ButtonFg" Storyboard.TargetProperty="Data">
                                            <DiscreteObjectKeyFrame KeyTime="0" 
                                                                    Value="{Binding RelativeSource={RelativeSource TemplatedParent},Path=ShapeR}" />
                                        </ObjectAnimationUsingKeyFrames>
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ButtonFg" Storyboard.TargetProperty="Stroke">
                                            <DiscreteObjectKeyFrame KeyTime="0" 
                                                                    Value="{Binding RelativeSource={RelativeSource TemplatedParent},Path=StrokeR}" />
                                        </ObjectAnimationUsingKeyFrames>
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ButtonFg" Storyboard.TargetProperty="Fill">
                                            <DiscreteObjectKeyFrame KeyTime="0" 
                                                                    Value="{Binding RelativeSource={RelativeSource TemplatedParent},Path=FillR}" />
                                        </ObjectAnimationUsingKeyFrames>
                                    </Storyboard>
                                </VisualState>
                                <VisualState x:Name="Pressed">
                                    <Storyboard>
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ButtonFg" Storyboard.TargetProperty="Data">
                                            <DiscreteObjectKeyFrame KeyTime="0" 
                                                                    Value="{Binding RelativeSource={RelativeSource TemplatedParent},Path=ShapeP}" />
                                        </ObjectAnimationUsingKeyFrames>
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ButtonFg" Storyboard.TargetProperty="Stroke">
                                            <DiscreteObjectKeyFrame KeyTime="0" 
                                                                    Value="{Binding RelativeSource={RelativeSource TemplatedParent},Path=StrokeP}" />
                                        </ObjectAnimationUsingKeyFrames>
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ButtonFg" Storyboard.TargetProperty="Fill">
                                            <DiscreteObjectKeyFrame KeyTime="0" 
                                                                    Value="{Binding RelativeSource={RelativeSource TemplatedParent},Path=FillP}" />
                                        </ObjectAnimationUsingKeyFrames>
                                    </Storyboard>
                                </VisualState>
                                <VisualState x:Name="Disabled">
                                    <Storyboard>
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ButtonFg" Storyboard.TargetProperty="Data">
                                            <DiscreteObjectKeyFrame KeyTime="0" 
                                                                    Value="{Binding RelativeSource={RelativeSource TemplatedParent},Path=ShapeD}" />
                                        </ObjectAnimationUsingKeyFrames>
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ButtonFg" Storyboard.TargetProperty="Stroke">
                                            <DiscreteObjectKeyFrame KeyTime="0" 
                                                                    Value="{Binding RelativeSource={RelativeSource TemplatedParent},Path=StrokeD}" />
                                        </ObjectAnimationUsingKeyFrames>
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ButtonFg" Storyboard.TargetProperty="Fill">
                                            <DiscreteObjectKeyFrame KeyTime="0" 
                                                                    Value="{Binding RelativeSource={RelativeSource TemplatedParent},Path=FillD}" />
                                        </ObjectAnimationUsingKeyFrames>
                                    </Storyboard>
                                </VisualState>
                            </VisualStateGroup>
                        </VisualStateManager.VisualStateGroups>
                    </Viewbox>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>


    <Style TargetType="local:YMediaPlayer" >
        <Setter Property="HorizontalAlignment" Value="Stretch"/>
        <Setter Property="VerticalAlignment" Value="Stretch"/>
        <Setter Property="IsTabStop" Value="False"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="local:YMediaPlayer">
                    <Grid x:Name="LayoutRoot">
                        <Border Background="Transparent"/>
                        <Image x:Name="PosterImage" Stretch="{TemplateBinding Stretch}" Source="{TemplateBinding PosterSource}" Visibility="Collapsed"/>
                        <MediaPlayerPresenter x:Name="MediaPlayerPresenter"
                                                  IsFullWindow="{TemplateBinding IsFullWindow}"
                                                  MediaPlayer="{TemplateBinding MediaPlayer}"
                                                  Stretch="{TemplateBinding Stretch}"/>
                        <local:ControlBar x:Name="ControlBar" />
                        <ContentPresenter x:Name="TransportControlsPresenter" Visibility="{TemplateBinding AreTransportControlsEnabled}"/>
                        <Grid x:Name="TimedTextSourcePresenter"/>
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
</ResourceDictionary>

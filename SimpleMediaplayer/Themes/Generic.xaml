<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:local="using:SimpleMediaplayer">

    <!--Data-->
    <local:SystemInfo x:Key="Info" />

    <!--ControlBar-->
    <Style TargetType="local:ControlBar">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="local:ControlBar">
                    <Grid x:Name="RootPanel" DataContext="{StaticResource Info}" Background="{StaticResource DefaultControlBarBg}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="30" />
                            <RowDefinition Height="*" />
                            <RowDefinition Height="30" />
                        </Grid.RowDefinitions>
                        <Grid x:Name="StateBar" Grid.Row="0">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="auto" />
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="auto" MinWidth="80" />
                                <ColumnDefinition Width="auto" MinWidth="160" />
                            </Grid.ColumnDefinitions>
                            <local:PathButton Style="{StaticResource PolylineButton}" Width="20" Height="20" 
                                              ShapeN="37.3 0.09 3.71 33.68 0.18 37.21 3.71 40.75 37.3 74.33" 
                                              ShapeR="37.3 0.09 3.71 33.68 0.18 37.21 3.71 40.75 37.3 74.33" 
                                              ShapeP="37.3 0.09 3.71 33.68 0.18 37.21 3.71 40.75 37.3 74.33" 
                                              StrokeSize="4" Background="Red" Margin="5,0,5,0" />
                            <TextBlock x:Name="Filename" Foreground="{StaticResource DefaultControlBarText}" 
                                       FontSize="{StaticResource DefaultControlBarTextSize}" 
                                       Text="{TemplateBinding Filename}" 
                                       FontWeight="Light" Margin="10,0,10,0" 
                                       Grid.Column="1" 
                                       VerticalAlignment="Center" 
                                       />
                            <TextBlock x:Name="SysTime" Foreground="{StaticResource DefaultControlBarText}" FontSize="{StaticResource DefaultControlBarTextSize}" Text="{Binding HourMin}" FontWeight="Light" Margin="10,0,10,0" Grid.Column="2" VerticalAlignment="Center" />
                            <TextBlock x:Name="SysBattery" Foreground="{StaticResource DefaultControlBarText}" FontSize="{StaticResource DefaultControlBarTextSize}" Text="{Binding BatteryLevel}" FontWeight="Light" Margin="10,0,10,0" Grid.Column="3" VerticalAlignment="Center" />
                        </Grid>
                        <RelativePanel x:Name="ControlBar" Grid.Row="1">
                            <local:PathButton x:Name="PlayoPause" 
                                              ShapeN="M50.4,47.35,141.6,100,50.4,152.65V47.35Z" 
                                              ShapeR="M50.4,47.35,141.6,100,50.4,152.65V47.35Z" 
                                              ShapeP="M50.4,47.35,141.6,100,50.4,152.65V47.35Z" 
                                              StrokeSize="3" Background="Blue" Foreground="White" Width="60" Height="60"
                                              RelativePanel.AlignHorizontalCenterWithPanel="True" RelativePanel.AlignVerticalCenterWithPanel="True" />
                            <local:PathButton x:Name="Next"></local:PathButton>

                        </RelativePanel>
                        <Grid x:Name="SettingBar" Grid.Row="2">

                        </Grid>
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!--PathButton-->
    <Style TargetType="local:PathButton">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="local:PathButton">
                    <Viewbox Stretch="Uniform">
                        <Canvas Width="100" Height="100">
                            <Path x:Name="ButtonFg" Data="{Binding RelativeSource={RelativeSource TemplatedParent},Path=ShapeN}" Stroke="{TemplateBinding Background}" Fill="{TemplateBinding Foreground}" StrokeThickness="{Binding RelativeSource={RelativeSource TemplatedParent},Path=StrokeSize}" Opacity="1" />
                        </Canvas>
                        <VisualStateManager.VisualStateGroups>
                            <VisualStateGroup x:Name="CommonStates">
                                <VisualState x:Name="Normal">
                                </VisualState>
                                <VisualState x:Name="PointerOver">
                                    <Storyboard>
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ButtonFg" Storyboard.TargetProperty="Stroke">
                                            <DiscreteObjectKeyFrame KeyTime="0" Value="#aa0000" />
                                        </ObjectAnimationUsingKeyFrames>
                                    </Storyboard>
                                </VisualState>
                                <VisualState x:Name="Pressed">
                                    <Storyboard>
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ButtonFg" Storyboard.TargetProperty="Data">
                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{Binding RelativeSource={RelativeSource TemplatedParent},Path=ShapeR}" />
                                        </ObjectAnimationUsingKeyFrames>
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ButtonFg" Storyboard.TargetProperty="Fill">
                                            <DiscreteObjectKeyFrame KeyTime="0" Value="#aa0000" />
                                        </ObjectAnimationUsingKeyFrames>
                                    </Storyboard>
                                </VisualState>
                                <VisualState x:Name="Disabled">

                                </VisualState>
                            </VisualStateGroup>
                        </VisualStateManager.VisualStateGroups>

                    </Viewbox>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

</ResourceDictionary>
